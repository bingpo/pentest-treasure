## 会话管理机制

### 了解机制

-   先确定程序使用什么方法确定用户身份的（隐藏表单？令牌cookie？）
-   删除cookie or 其他令牌看其是否是有效的
-   修改令牌，一次修改一字节，确定真正的有效字符

### 测试令牌含义

-   对比**不同时间不同用户**的令牌（用相似的用户名测试更容易发现规律）
-   使用重复字符的用户名，观察令牌变化
-   尝试不同进制，不同的编码解码
-   针对发现的有效字符，FUZZ

### 令牌传输

### 令牌泄露

-   程序是否含有显示会话令牌的功能，是否低权限账号可利用访问
-   令牌在URL中，访问外链时可能在Referer中泄露

### 会话数量

-   同一账号在不同浏览器、不同电脑登录，是否支持并行会话
-   退出-再登录循环几次，令牌是否有变化

### 会话终止

-   登录获取令牌，一段时间后直接用该令牌访问需要鉴权的页面
-   得到超时时间（burp intruder可以设置请求时间间隔）
-   退出登录 还尝试使用原先的令牌进行访问

### 会话固定

-   登录前和登录后使用同一个令牌
-   登录获得令牌，重新使用该令牌 且用不同的用户名提交登录
-   讲究一个令牌的复用

### CSRF

-   burp生成一个POC即可测试

### Cookie

-   保留键，删除值
-   全部删除
-   易读、可伪造
-   观察[Set-Cookie](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Set-Cookie)
